<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LuaCsForBarotrauma: In-memory CSharp Mod</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="LuaCsForBarotrauma"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LuaCsForBarotrauma
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_manual_inmemorymod.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">In-memory CSharp Mod </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>One type of CSharp mod that can be created is an in-memory mod. This type of mod is compiled in memory and does not require the distribution of dll files. This type of mod is relatively easy to create and is useful for small mods that do not require a lot of complexity.</p>
<p>The disadvantage of in-memory mods is that they can take up a chunk of initialization time, as the mod must be compiled every time the mod is loaded. This type of mod also can't be easily debugged in your IDE or take full advantage of the entire .NET ecosystem.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Getting Started</h1>
<hr  />
<p>First you need to create a new Barotrauma mod as you are already familiar with. Then you need to create a folder named <code>CSharp</code> in the root of your mod folder. This is where you will put all your C# code files. All .cs source files in this folder will be compiled into the mod.</p>
<p>Source files inside the CSharp/Server and CSharp/Client folders will only be compiled for the server and client respectively. Files in the CSharp/Shared folder will be compiled for both the server and client.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Example mod</h2>
<hr  />
<p> <code>&lt;mod_root&gt;/CSharp/Shared/ExampleMod.cs</code></p>
<div class="fragment"><div class="line"><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> Barotrauma;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// This is required so that the .NET runtime doesn&#39;t complain about you trying to access internal Types and Members</span></div>
<div class="line">[assembly: IgnoreAccessChecksTo(<span class="stringliteral">&quot;Barotrauma&quot;</span>)]</div>
<div class="line">[assembly: IgnoreAccessChecksTo(<span class="stringliteral">&quot;BarotraumaCore&quot;</span>)]</div>
<div class="line">[assembly: IgnoreAccessChecksTo(<span class="stringliteral">&quot;DedicatedServer&quot;</span>)]</div>
<div class="line"><span class="keyword">namespace </span>ExampleNamespace {</div>
<div class="line">    <span class="keyword">partial class </span>ExampleMod : IAssemblyPlugin {</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Initialize()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// When your plugin is loading, use this instead of the constructor</span></div>
<div class="line">            <span class="comment">// Put any code here that does not rely on other plugins.</span></div>
<div class="line">            LuaCsLogger.Log(<span class="stringliteral">&quot;ExampleMod loaded!&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> OnLoadCompleted()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// After all plugins have loaded</span></div>
<div class="line">            <span class="comment">// Put code that interacts with other plugins here.</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> PreInitPatching()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Not yet supported: Called during the Barotrauma startup phase before vanilla content is loaded.</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Dispose()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Cleanup your plugin!</span></div>
<div class="line">            LuaCsLogger.Log(<span class="stringliteral">&quot;ExampleMod disposed!&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
